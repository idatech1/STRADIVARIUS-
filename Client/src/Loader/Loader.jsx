import React, { useEffect } from 'react';
import './Loader.css'; // Nous allons créer ce fichier

const Loader = ({user }) => {

  useEffect(() => {
    const timer = setTimeout(() => {
      const loader = document.querySelector('.loading-page');
      if (loader) {
        loader.classList.add('fade-out');
        
        setTimeout(() => {
          loader.style.display = 'none';
        }, 1000);
      }
    }, 5000);

    return () => clearTimeout(timer);
  }, []);

  return (
    <div className="loading-page">
      <svg id="svg" version="1.0" xmlns="http://www.w3.org/2000/svg"
        width="640.000000pt" height="1280.000000pt" viewBox="0 0 640.000000 1280.000000"
        preserveAspectRatio="xMidYMid meet">
        <g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
          fill="none" stroke="white" strokeWidth="60">
          <path d="M3599 12778 c-303 -107 -613 -565 -797 -1178 -82 -275 -124 -513
          -142 -806 -21 -349 17 -667 219 -1842 l18 -103 -235 -242 c-551 -568 -766
          -807 -1003 -1117 -386 -505 -604 -958 -689 -1433 -79 -441 -23 -1008 145
          -1471 292 -802 859 -1344 1600 -1531 192 -49 326 -66 560 -72 234 -6 433 10
          634 50 75 15 114 20 116 13 9 -28 110 -634 150 -891 108 -702 118 -952 49
          -1193 -94 -323 -352 -567 -702 -659 -124 -33 -345 -38 -456 -10 -159 40 -280
          127 -337 243 -18 35 -29 67 -26 70 3 3 35 12 72 19 192 41 369 180 455 360 48
          102 63 165 63 279 0 269 -161 504 -416 606 -377 151 -792 -59 -916 -462 -59
          -193 -66 -458 -17 -603 148 -431 716 -775 1326 -801 592 -26 1041 262 1214
          780 67 202 96 460 77 702 -21 270 -106 812 -224 1424 l-44 225 31 14 c162 76
          221 105 281 142 234 141 463 369 597 594 340 571 351 1324 28 1923 -72 133
          -171 264 -290 383 -205 205 -425 327 -705 390 -127 29 -402 37 -544 15 -57 -9
          -105 -15 -107 -13 -2 2 -159 766 -219 1065 l-36 182 123 133 c426 455 682 872
          850 1381 156 472 216 921 205 1526 -7 398 -37 654 -112 959 -170 693 -478
          1060 -796 949z m378 -1136 c127 -65 199 -241 210 -517 13 -301 -51 -573 -206
          -890 -155 -314 -383 -629 -744 -1024 l-132 -145 -12 65 c-20 110 -62 438 -73
          564 -11 133 0 379 26 575 68 524 246 966 489 1216 157 160 320 218 442 156z
          m-818 -4167 c18 -88 68 -342 112 -564 81 -407 82 -420 46 -421 -5 0 -58 -25
          -118 -55 -374 -186 -660 -494 -810 -871 -104 -264 -117 -579 -34 -842 31 -97
          107 -248 171 -338 102 -144 286 -315 460 -427 87 -56 298 -167 318 -167 8 0
          24 14 36 30 l21 30 -108 108 c-234 231 -366 467 -408 725 -18 109 -19 173 -4
          270 41 278 193 516 426 668 64 41 206 109 230 109 5 0 21 -62 35 -137 15 -76
          74 -376 132 -668 140 -708 308 -1587 303 -1591 -2 -3 -47 -15 -100 -29 -310
          -78 -666 -78 -973 1 -559 144 -979 464 -1208 922 -140 281 -204 611 -193 997
          10 356 68 597 212 890 126 258 260 439 525 709 91 93 257 250 369 350 469 416
          525 465 527 463 1 -1 16 -74 33 -162z m794 -1720 c443 -77 791 -466 882 -986
          22 -122 22 -354 1 -471 -56 -308 -216 -576 -451 -753 -82 -61 -144 -100 -150
          -93 -5 5 -13 45 -165 788 -109 533 -308 1489 -316 1513 -5 15 2 17 54 17 33 0
          98 -7 145 -15z"/>
        </g>
      </svg>
     
      <div className="name-container">
      <div className="logo-name">
          Welcome {user ? `${user.prenom} ${user.nom}` : ''} In STRADIVARIUS Système !
        </div>        
      </div>
      <div className="name-container">
        <div className="logo-name1">Powered by ID&A TECH</div>
      </div>
      <div className="name-container">
        <p className="logo-name2"></p>
      </div>
      
    </div>
  );
};

export default Loader;//